I am creating a facebook-like site for nerds, where there will be divisions, tournaments, daily fights, by moderator and by users. This is a voting site, where users create their own fights in feed section and moderator creates official matches in division section! Users vote for the winner! 

Everybody knows these characters, like superman or Goku, but people differ when it comes to opinions! So, people vote, who wins! Some will vote for one team, other vote for other team! This is how characters win battle, by users engagement!

There are comments under each post, where people share opinions on this particular fight, exchange opinions, argue and so on!

We need a real facebook-like mechanics. Messages, good comment system, system of counting votes for each post, great profile editing, leaving comments at each other profiles. 

Also, the division system is crucial! Divisions, if ufc-like system of voting fights, that will be "official" fights of the site. 
Each user has his official record, like in any mma. User can join one, two, or all divisions. When joining a division, user picks his team of two fighters. Each division has it's unique characters, and once picked, these two characters are locked, and no other user can pick them.

Then, the moderator sees what users with what teams have applied for the division, and prepares official matches, that will appear on the main site, and the division menu.

In regular fights, when user posts any fight on feed, he does that just for curiosity, there are no records changes for that.

After moderator posts official fights, users vote in these, and there are 72 hours before the fight is done. After 72 hours fight is locked, no more votes can be added, and the winner of the fight gets a win in his record, loser gets a loss. Then, moderator can create new fights, letting winners fight with winners, and so on. 

The thing is, divisions do not merge. Each division has their own rooster and fights. Every user can vote in any fight, but moderator cannot pick team from one division against team from other division. Division system is like weights system in UFC, and cannot allow for cross fights!

Moderator will have also an ability to create a "Title fight" if some users team gets good results. If he wins this fight, he becomes division champion, and will defend this title in every fight he will participate. 

Division champion gets a unique title under his nickname, unique profile background, and a Golden color of nickname, as long as he is the champion!

Divisions are already implemented, just as post creation, feed, messages, comments... Very important is, that you DO NOT swap post layout. It took me a very long time to make it look like this, and it looks perfect for now! 

First thing for you should be scanning whole project completely, understanding what is done and in what way, and then implementing new features, fixing bugs in the older code, maybe upgrading the UI, so it is like "ultra modern facebook", scalable and usable on all devices? You know, all should be flexible, so everything is always visible, even on mobile phones! 

And please, I once again ask, to do not touch post layout! There is a great looking frame and a background for chosen team, that took a lot of work to do, and I wouldn't like to lose it!

Create a full-featured, secure backend for a modern web application that allows users from all around the world (Europe, the Americas, Asia, etc.) to register, log in, and interact with the platform.

### Main Requirements:
1. **Authentication:**
- Use email + password registration
- Passwords must be securely hashed (bcrypt or argon2)
- JSON Web Tokens (JWT) or secure cookie-based sessions
- Rate-limiting for login attempts
- HTTPS enforcement

2. **User Data Protection:**
- Fully GDPR (EU) and CCPA (California) compliant
- Add user consent mechanisms during registration
- Add a clear and accessible Privacy Policy and Terms of Use endpoint
- Allow users to request data deletion or modification (via API)

3. **Cookie Consent:**
- Implement cookie policy logic (accept/deny tracking cookies)
- Store cookie consent in user preferences (DB + client)

4. **Legal Documents:**
- Auto-generate endpoints (e.g. `/privacy-policy`, `/terms-of-service`, `/cookies`)
- Content must comply with international laws for user data collection

5. **Donation System Integration:**
- Add support for **BuyMeACoffee** and **PayPal** donation links
- Secure the payment links using CSRF protection and metadata handling
- Store basic donation history in backend (if user is logged in)

6. **Technology Stack:**
- Node.js with Express.js (or Fastify)
- PostgreSQL or MongoDB (with user schema + GDPR metadata)
- OpenAPI 3.0-compliant documentation
- REST API or GraphQL (either is fine)
- Include CORS config and helmet.js for security

7. **Logging & Monitoring:**
- Add middleware for request logging (e.g. morgan or pino)
- Add global error handler (with status codes)
- Sanitize all incoming data (e.g. using express-validator)

8. **Internationalization:**
- Backend must support international user base (UTF-8, timezone-safe)
- Responses and legal policies should support i18n (starting with English)

### Output:
- Full backend folder structure (`src/`, `routes/`, `controllers/`, `models/`, etc.)
- Prebuilt API routes: register, login, logout, profile, consent, donate
- Static endpoint pages for /privacy-policy, /terms, /cookies
- Include example `.env` with placeholders
- Dockerfile (optional)
- All required dependencies in package.json

Optional: Include scripts to seed initial user or admin.

Please generate everything needed to make the site legally compliant, secure, and integrate it with React. Implement everything correctly, no need to rush. Make sure there are no problems like "is defined but never used ", "missing dependency" or "INVALID_CREDENTIALS" when trying to log in... If you can, please prepare fully working, safe website, with new features I mentioned! I do not have a lot of experience in programming, so the less work you leave for me, the better! I am unsure how to use SQL, how to set the whole backend up... So I trust you on this. Create working instance of such website, and if it's needed, write some simple, step by step, instructions, on how to opearate this site correctly! 

Divisions are: Regular People, Metahuman, Planet Busters, God Tier, Universal Threat, Omnipotent. 

Regular people are fighters like Jim Ross, Louis Lane, Ivan Drago. Metahuman is for example Spider-Man or Cyclops. Planet Busters are guys like Hulk or Krillan from Dragon Ball. God Tier is for people like Thor, Zeus, Cell. Universal Threat is like Anti-Monitor, Fused Zamasu. Omnipotent is for peopel like Living Tribunal, Beyonder, Cosmic Armour Superman. 

Remember, that can be a draw in a fight!

Yea, each champion title should have it's history to see, who was champion in what order, who was champion the longest, and so on.

Yes, we need leaderboards! By the leaderboards, moderator will produce official matches! 

Contender System... Maybe moderator should have an option to make a specific match a "contender" match. Anyone who wins it, gets a title shot in next fight!

Division stats, like average votes, active teams, hell yea!

For now, no season stuff. Maybe later!

We need custom profile background that user can upload from their pc's, that any other user will see, if they visit their profile. 

And some badge system on profile, that user cannot control, that shows their achievements, like "Champion in God Division from 25.05.2026-30.06.2026", or anything like it.

We could introduce tag system for posts. Someone wants to see just posts that contain Dragon Ball characters? He can pick it! If user picks characters, from the character database on the site, post is automatically tagged, and posts can be sorted by these tags like "superman", "dc", "marvel", "spider-man", "goku", whatever.

Oh, virtual coins prediction system! Sounds nice! Each user gets coins, for posting, commenting, voting, winning in official fights. Then, he can bet these coins in official fights.

It should work like this: Moderator creates official division matches. Matches are published on the main site and division menu, but are locked for 24 hours! These 24 hours are for comments under the incoming matches and for bets! Anyone can bet any match, and win or lose coins!

If the next division fights night has 10 matches in total, user can bet on each match separately, with low risk, gaining or loosing small bits of coins. Or he can bet on many matches, or even all of them, and then, if he bets right, his reward should be multiplied heavily! Users will be able to buy custom titles, custom nickname colors, or a contender fight chance for these coins!

Also, we need a fighter proposal system. If user wants to post a fight on feed, and he wants to pick a character, that isn't in the database, he should have an option to tick, that "I wish my fighter to be included in the rooster!". 

Then, such fighter, with exactly same name that user has typed and with that specific image he used (imge will be mandatory. This field will not be clickable without an image), will be sent to moderator mail on the site. Moderator will be able to introduce such fighter, along with the image to the rooster, so other users can user them from the fighters list! Of course, moderator should be able to do some changes in the fighter approval screen, just in case anyone uses badly cropped photo or makes a typo in the name.

Yes... If it's possible we could use a "global" chat, where anyone can write in real time, with other users. There would be a theme rooms, like "divisions", "feed", "help", whatever. Anyone can open such global chat, that will look like a button in the lower left corner of the website, open the chat, that will expand from the button, pick a room, and chat with other users in real time!

PWA, for mobile users would be great! I would like this whole app to be perfectly scalable and usable on all devices!

Notifications for fight results of users posts, his team division fights, would be great! Like, if someone leaves a reaction or a comment, under someone's post, that user should see a notification. The same thing, for his team fights in the divisions!
